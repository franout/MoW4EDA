# MoW4EDA

Another yet, Modular Workspace for Electronic Design Automation

## Installation Instructions

Clone the repository:

```bash
    git clone https://github.com/franout/MoW4EDA.git workspace_your_workspace_name
    cd workspace_your_workspace_name

```

Configure the workspace by running the `prepare_workspace.sh` script located in the `installation` folder. This script will prompt you to enter a name for your workspace and will replace all occurrences of `MoW4EDA` in the files with your provided name.

```bash
   ./installation/prepare_workspace.sh your_workspace_name
```

## Activate the Workspace

To activate the workspace, source the `MoW4EDA.sh` script located in the root of the workspace:

```bash
   $ ./MoW4EDA.sh
```

***Note: Replace `MoW4EDA.sh` with the name you provided during the installation if you changed it.***

This will set up the necessary environment variables and paths for the tools and scripts included in the workspace.

## Philosophy

The main idea behind this project is to provide a modular and easily customizable workspace for EDA tools and flows. 
The workspace is designed to be flexible, allowing users to add or remove tools as needed. The setup is done through simple shell scripts, making it easy to adapt to different environments and requirements.
The choice of bash scripting is due to its wide availability on Unix-like systems supported by EDA vendors.

### Modularization 

The workspace is organized into modules, each representing a specific flow for a specific EDA tool. 
Users can easily add new modules by creating new folders and scripts, following the existing structure.

### Customization

Users can customize the workspace by modifying the configuration files and scripts. The setup scripts are designed to be straightforward, allowing users to easily adapt them to their specific needs.

#### Steps for Adding a New Module

1. **Create a Bash Variable in Setup Defaults**  

    Open the `setup_defaults.sh` file located in the root of the workspace. Add a new variable to define the module's configuration. For example, if you are adding an ATPG module, you can add the following:

    ```bash
    # Enable or disable the ATPG module
    ENABLE_ATPG=true

    # Define the default input directory for ATPG
    ATPG_INPUT_DIR="$WORKSPACE_ROOT/input/atpg"

    # Define the default results directory for ATPG
    ATPG_RESULTS_DIR="$WORKSPACE_ROOT/results/atpg"
    ```

    These variables will be used to control the module's behavior and specify paths for input and output files.

2. **Create a Top-Level Script in the `scripts` Folder**  
    Add a new script in the `scripts` folder to serve as the entry point for the module. For example, create a script named `run_atpg.sh`:

    ```bash
    #!/bin/bash
    # Script to run the ATPG module

    if [ "$ENABLE_ATPG" = true ]; then
        echo "Running ATPG module..."
        # Call the internal ATPG script
        bash "$WORKSPACE_ROOT/atpg/scripts/run_internal_atpg.sh"
    else
        echo "ATPG module is disabled. Enable it in setup_defaults.sh to proceed."
    fi
    ```

    Make sure to make the script executable:

    ```bash
    chmod +x scripts/run_atpg.sh
    ```

3. **Create a Related Folder for the Flow**  
    Create a new folder in the workspace root to house all files related to the module. For example:

    ```bash
    mkdir atpg
    ```

4. **Create an Internal `scripts` Folder for the Module**  
    Inside the `atpg` folder, create a `scripts` subfolder to store internal scripts specific to the module:

    ```bash
    mkdir -p atpg/scripts
    ```

    Add an internal script, such as `run_internal_atpg.sh`:

    ```bash
    #!/bin/bash
    # Internal script for ATPG module

    echo "Preparing input files from $ATPG_INPUT_DIR..."
    # Add preprocessing steps here

    echo "Running ATPG tool..."
    # Add commands to execute the ATPG tool

    echo "Saving results to $ATPG_RESULTS_DIR..."
    # Add postprocessing steps here
    ```

    Make the script executable:

    ```bash
    chmod +x atpg/scripts/run_internal_atpg.sh
    ```

    This folder will contain all scripts and resources specific to the ATPG flow. For example, you can include scripts for preprocessing input files, running the ATPG tool, and postprocessing results.

5. **Create the EDA Tool Folder in the Flow Folder**  
    When the workspace is activated for the first time, the environment will automatically create the necessary folder structure. For example:

    ```bash
    mkdir -p atpg/eda_tool/input
    mkdir -p atpg/eda_tool/results
    ```

    - **Input Files**: Place or link input files in the `input` folder.
    - **Results Folder**: The `results` folder will store output files generated by the ATPG tool.

#### Example: ATPG Module

The `atpg` folder serves as a reference for structuring new modules. It includes:

- A top-level script in the `scripts` folder (`scripts/run_atpg.sh`).
- A dedicated folder (`atpg`) containing:
  - An internal `scripts` folder for ATPG-specific tasks.
  - An `eda_tool` folder with:
    - An `input` folder for input files.
    - A `results` folder for output files.

By following this structure, users can ensure consistency and maintainability across all modules.

## Contributing

Contributions are welcome! Please fork the repository and submit a pull request with your changes. Make sure to follow the existing code style and include tests for any new flow.

## License

This project is licensed under the Apache License 2.0. See the [LICENSE](LICENSE) file for details.

## Acknowledgements

Thanks to all the contributors and the open-source community for their support and inspiration.
